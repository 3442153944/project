server:
  host: 0.0.0.0
  port: 9999
  mode: debug

database:
  host: localhost
  port: 5432
  user: admin
  password: sunyuanling
  dbname: file
  sslmode: disable
  max_open_conns: 25
  max_idle_conns: 5

redis:
  host: localhost
  port: 6379
  password: ""
  db: 0
  pool_size: 10

jwt:
  secret: sunyuanling-secret-2025
  expire_hours: 168
  refresh_expire_hours: 720

security:
  bcrypt_cost: 10
  max_login_attempts: 5
  lockout_duration_minutes: 30

sync:
  interval_seconds: 30
  batch_size: 100

debugLog:
  enabled: true
  fileSize: 10
  maxBackups: 5
  path: ./log

devLog:
  enabled: false
  fileSize: 10
  maxBackups: 5
  path: ./log

prodLog:
  enabled: false
  fileSize: 10
  maxBackups: 5
  path: ./log

token:
  # 有效期，单位分钟
  validityDate: 43200

# ========== 文件存储配置 ==========
file:
  # 文件模式，自动检测（可选：windows / linux）
  # 留空则根据运行系统自动选择
  mode: ""

  # Windows 允许的盘符列表
  windowsPath:
    - "D:"
    - "E:"
    - "F:"
    - "G:"

  # Linux 允许的挂载点列表
  linuxPath:
    - "/home/sunyuanling/file"
    - "/mnt/data"

  # 存储配置
  storage:
    basePath: "FileSync"         # 存储根目录
    uploadPath: "uploads"         # 上传文件目录
    tempPath: "temp"              # 临时文件目录
    trashPath: "trash"            # 回收站目录
    minFreeSpace: 5368709120      # 最小剩余空间 5GB（字节）
    maxStorageSize: 107374182400  # 单盘最大使用 100GB（字节）

  # 上传配置
  upload:
    maxFileSize: 10737418240      # 最大文件大小 10GB（字节）
    chunkEnabled: true            # 是否启用分片上传
    chunkSize: 2097152            # 分片大小 2MB（字节）
    maxChunks: 5120               # 最大分片数（2MB * 5120 = 10GB）
    concurrentUploads: 5          # 允许同时上传的分片数

    # 允许的文件扩展名（为空则不限制，除禁止列表外）
    allowedExtensions: []
    # 示例：
    # allowedExtensions:
    #   - ".jpg"
    #   - ".png"
    #   - ".pdf"
    #   - ".docx"

    # 禁止的文件扩展名
    forbiddenExtensions:
      - ".exe"
#      - ".bat"
#      - ".cmd"
#      - ".com"
#      - ".dll"
#      - ".sys"
#      - ".scr"
#      - ".vbs"
#      - ".ps1"

    maxFilenameLength: 255        # 最大文件名长度
    tempCleanInterval: 3600       # 临时文件清理间隔（秒）
    tempMaxAge: 86400             # 临时文件最长保留时间 24小时（秒）